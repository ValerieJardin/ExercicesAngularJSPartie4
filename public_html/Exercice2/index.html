<!DOCTYPE html>
<!--
Faire une page HTML permettant d'afficher la liste des voitures et leur couleur du fichier voiture.json.
-->
<html>
    <head>
        <title>Exercice 2</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    </head>
<!-- Directive ng-app pour indiquer l'utilisation d'AngularJS dans l body  -->
    <body ng-app="car">
        <!-- Déclaration du controller -->
        <div ng-controller="carCtrl">
            <h1>Les voitures : </h1>
            <ul>
<!-- Déclaration de la directive ng-repeat qui va chercher les informations dans le tableau j -->
                <li ng-repeat = "x in lesVoitures">
<!-- Concaténation des 2 informations à récupérer -->
                    {{ x.marque + " " + x.couleur }}
                </li>
            </ul> 
        </div>
        <script>
//Déclaration de la variable module        
    var app = angular.module('car', []);
//Déclaration de la fonction controller avec une fonction $scope et $http qui récupère le 
//json par rapport à  son adresse
            app.controller('carCtrl', function ($scope, $http) {
//Déclaration de la fonction $http.get qui permet de récupérer le tableau json        
        $http.get("voiture.json")
                        .then(function (response) {
                            $scope.lesVoitures = response.data;
                        });
            });
        </script>       
        <a href="../Exercice1/index.html">Exercice 1</a>
        <a href="../Exercice3/index.html">Exercice 3</a>
        <a href="../Exercice4/index.html">Exercice 4</a>
    </body>
</html>
